# Chapter13. 패턴과 함께 하는 행복한 삶

## 학습목표

* 디자인 패턴의 정의
* 디자인 패턴 카탈로그
* 적절한 시기에 대자인 패턴을 사용하도록 합시다
* 패턴을 제 범주에 맞게 사용하도록 합시다.
* Gang of Four
* 패턴 관련 유명 저서

## 패턴

> 패턴이란 특정 컨텍스트 내에서 주어진 문제에 대한 해결책

* 컨텍스트: 패턴이 적용되는 상황, 반복적으로 일어날 수 있는 상황
* 문제: 컨텍스트 내에서 해결하고자하는 것, 목적. 제약조건도 문제에 포함
* 해결책: 제약 조건 내에서 목적을 달성할 수 있는 일반적인 디자인

## 패턴 카탈로그

* 패턴의 용도와 패턴이 만들어지게 된 배경, 적용될 수 있느 ㄴ범위, 해결책의 디자인 및 그 해결책을 적용한 결과(장단점)

## 디자인 패턴 유명 저서

* GoF의 디자인 패턴
    * 패턴의 템플릿
        * 이름
        * 용도(Intent): 패턴이 무슨 패턴인지 설명해 주는 패턴의 정의
        * 동기 및 적용 대상(Motivation and Applicability): 언제 어디에서 패턴을 사용할 수 있는지에 대한 설명
        * 디자인
            * 디자인에 포함되는 모든 클래스와 클래스의 역할에 대한 설명
            * 패턴을 구현하는 방법
            * 샘플 코드
        * 다른 패턴과의 차이점
    * 공부하는 법
        * 패턴들 사이의 관계 파악
        * 적용 대상 섹션을 훑어보고 판단
        * 결과 섹션 살펴보고 부작용 판단
    * 구현하는 법
        * 구조 섹션 - 다이어그램 살펴 봄
        * 구성요소 섹션 - 각 클래스의 역할 확인
        * 구현/샢플 코드 섹션 - 구현 기법과 주의사항 공부

## 디자인 패턴 분류하기

### 생성, 행동, 구조

* 생성 관련 패턴
    * 객체의 인스턴스 생성을 위한 패턴
    * 클라이언트와 그 클라이언트에서 생성해야 할 인스턴스 사이의 연결을 끊어주는 패턴
    * 팩토리 메서드 패턴, 추상 팩토리 패턴, 싱글턴 패턴
    * 빌더 패턴, 프로토타입 패턴
* 행동 관련 패턴
    * 클래스와 객체들이 상호작용하는 방법 및 역할을 분담하는 방법과 관련된 패턴
    * 스트레티지 패턴, **옵저버 패턴**, ~~데코레이터 패턴~~, 커맨드 패턴, 템플릿 메소드 패턴, 이터레이터 패턴, 스테이트 패턴, ~~프록시 패턴~~
    * 비지터, 미디에어터, 인터프리터, 메멘토, 역할 변경
* 구조 관련 패턴
    * 클래스 및 객체들을 구성을 통해서 더 큰 구조로 만들 수 있게 해 주는 패턴
    * ~~옵저버 패턴~~, **데코레이터 패턴**, 어댑터 패턴, 퍼사드 패턴, 컴포지트 패턴, **프록시 패턴**
    * 플라이웨이트, 브리지

### 클래스, 객체

* 클래스 패턴
    * 클래스 사이의 관계까 상속을 통해서 어떤 식으로 정의되는지를 다룸
    * 컴파일시 관계가 결정된다.
    * 템플릿 메소드, 팩토리 메소드, 어댑터,
    * 인터프리터
* 객체 패턴
    * 객체 사이의 관계를 다루며, 객체 사이의 관계는 보통 구성을 통해 정의
    * 일반적으로 실행 중에 관계가 생성되기 때문에 동적이고 유연
    * 컴포지트, 데코레이터, 프록시, 스트래티지, 추상팩토리, 싱글턴, 스테이트, 옵저버, 퍼사드, 커맨드, 이터레이터,
    * 비지터, 메멘토, 역할 사슬, 미디에이터, 빌더, 브리지, 플라이웨이트

## 패턴으로 생각하기 - 패턴으로 생각하는데 도움이 될만한 내용

* 최대한 단순하게 (KISS - Keep it Simple)
    * "이 문제에 어떻게 패턴을 적용할까"가 아니라 "어떻게 단순하게 해결할 수 있을까"에 초첨
* 디자인 패턴은 만병 통치약이 아니다
    * 패턴을 사용했을 때, 다른 부분에 영향을 미칠 수 있는 영향과 결과에 대해서 주의 깊게 생각해야 함
* 패턴이 필요한 경우는?
    * 디자인할 때, 디자인상의 문제에 적합하다는 확신이 들 경우
    * 디자인에서 자주 변경되는 부분
    * 리팩터링 할 때
* 리팩터링과 패턴
    * 리팩터링: 코드 구조를 개선하기 위해 코드를 변경하는 과정
    * ex) 조건 문이 너무 많으면 -> 스테이트 패턴 고려
* 꼭 필요하지 않은 것은 빼버린다.
* 꼭 필요하지 않은 것을 미리 할 필요는 없다.
    * 시스템만 복잡해지고 쓸모가 없게 됨

## 패턴 관련 유명 저서

* GoF의 디자인 패턴

## 안티패턴

> 어떤 문제에 대하나 나쁜 해결책에 이르는 길을 알려주는 패턴